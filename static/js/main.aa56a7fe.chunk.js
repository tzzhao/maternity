(this.webpackJsonpmaternity=this.webpackJsonpmaternity||[]).push([[0],{105:function(t,e,a){"use strict";a.r(e);var n=a(46),r=a(0),o=a.n(r),c=a(12),i=a.n(c),s=(a(96),a(97),a(18)),l=a(19),d=a(21),u=a(20),p=a(140),j=a(158),b=a(145),h=a(146),f=a(147),O=a(16),v=a(24),m=a(8),y=a(32),x="r";function g(t){var e=new Date(t),a=""+(e.getMonth()+1),n=""+e.getDate(),r=e.getFullYear(),o=""+e.getHours(),c=""+e.getMinutes(),i=""+e.getSeconds();a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),o.length<2&&(o="0"+o),c.length<2&&(c="0"+c),i.length<2&&(i="0"+i);var s=[r,a,n].join("-");return"".concat(s," ").concat(o,":").concat(c,":").concat(i)}function D(t){var e=t,a=Math.floor(e/60),n=Math.floor(a/60);return e-=60*a,a-=60*n,"".concat(B(n),":").concat(B(a),":").concat(B(e))}function B(t){var e=t.toString();return e.length<2&&(e="0"+e),e}var F,S,w=a(11),k=a.n(w),T=a(17),E=a(80),C={BREAST_FEED:"breastFeed",DIAPERS:"diapers",BABY_BOTTLE:"babyBottle"};function I(){return(I=Object(T.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(E.a)("maternity",1,{upgrade:function(t,e,a,n){t.createObjectStore(C.BREAST_FEED,{keyPath:"start"}),t.createObjectStore(C.DIAPERS,{keyPath:"time"}),t.createObjectStore(C.BABY_BOTTLE,{keyPath:"start"})}});case 2:return F=t.sent,t.abrupt("return",F);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(){return(M=Object(T.a)(k.a.mark((function t(e){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:F.put(C.BREAST_FEED,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(){return(R=Object(T.a)(k.a.mark((function t(e){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:F.put(C.DIAPERS,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return(N=Object(T.a)(k.a.mark((function t(e){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:F.put(C.BABY_BOTTLE,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){return(A=Object(T.a)(k.a.mark((function t(e){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:F.delete(C.BREAST_FEED,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(){return(L=Object(T.a)(k.a.mark((function t(e){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:F.delete(C.DIAPERS,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(){return(P=Object(T.a)(k.a.mark((function t(e){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:F.delete(C.BABY_BOTTLE,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(){return _.apply(this,arguments)}function _(){return(_=Object(T.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",F.getAll(C.BREAST_FEED));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function G(){return W.apply(this,arguments)}function W(){return(W=Object(T.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",F.getAll(C.BABY_BOTTLE));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(){return z.apply(this,arguments)}function z(){return(z=Object(T.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",F.getAll(C.DIAPERS));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(t){t[t.IDLE=0]="IDLE",t[t.FEEDING_R=1]="FEEDING_R",t[t.FEEDING_L=2]="FEEDING_L"}(S||(S={}));var V={data:{},status:S.IDLE,lastStart:void 0};function Q(t){!function(t){M.apply(this,arguments)}(t)}var U=Object(y.b)({name:"breastFeed",initialState:V,reducers:{startRightBreastFeeding:function(t){t.status=S.FEEDING_R,t.lastStart=Math.round(Date.now()/1e3)},startLeftBreastFeeding:function(t){t.status=S.FEEDING_L,t.lastStart=Math.round(Date.now()/1e3)},stopBreastFeeding:function(t,e){var a=t.status,n=t.lastStart;if(void 0!==n&&a!==S.IDLE&&void 0!==e.payload){var r={start:n,duration:e.payload,type:a===S.FEEDING_R?x:"l"};t.data=Object(m.a)(Object(m.a)({},t.data),{},Object(v.a)({},n,r)),Q(r)}t.status=S.IDLE,t.lastStart=void 0},loadData:function(t,e){t.data=e.payload},addBreastFeedData:function(t,e){t.data=Object(m.a)(Object(m.a)({},t.data),{},Object(v.a)({},e.payload.start,e.payload)),Q(e.payload)},removeBreastFeedData:function(t,e){delete t.data[e.payload],function(t){A.apply(this,arguments)}(e.payload)},importBreastFeedData:function(t,e){t.data=Object(m.a)(Object(m.a)({},t.data),e.payload)}}}),J=U.actions,H=U.reducer,$=a(2),K=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).getDuration=function(){var t=n.getNowTime()-n.state.startTime,e=Math.floor(t/60),a=Math.floor(e/60),r=e-60*a,o=t-60*e,c=n.getFormattedTime(a),i=n.getFormattedTime(r),s=n.getFormattedTime(o);return"".concat(c,":").concat(i,":").concat(s)},n.openModal=function(){n.clearInterval();var t=setInterval((function(){n.forceUpdate()}),1e3);n.setState({open:!0,startTime:n.getNowTime(),refreshInterval:t}),n.props.type===x?n.props.startRightBreastFeeding():n.props.startLeftBreastFeeding()},n.clearInterval=function(){void 0!==n.state.refreshInterval&&clearInterval(n.state.refreshInterval)},n.saveData=function(){n.clearInterval();var t=n.getNowTime();n.props.stopBreastFeeding(t-n.state.startTime),n.setState({open:!1,refreshInterval:void 0})},n.closeModal=function(t,e){e&&"backdropClick"===e||(n.clearInterval(),n.setState({open:!1,refreshInterval:void 0}),n.props.stopBreastFeeding(void 0))},n.getNowTime=function(){return Math.round(Date.now()/1e3)},n.getFormattedTime=function(t){return t<10?"0".concat(t):t},n.state={open:!1,startTime:0,refreshInterval:void 0},n}return Object(l.a)(a,[{key:"render",value:function(){var t=this.props.type===x?"droit":"gauche";return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(p.a,{variant:"outlined",color:"primary",onClick:this.openModal,children:["Sein ",t]}),Object($.jsxs)(j.a,{open:this.state.open,onClose:this.closeModal,children:[Object($.jsxs)(b.a,{children:["Sein ",t]}),Object($.jsx)(h.a,{children:this.getDuration()}),Object($.jsxs)(f.a,{children:[Object($.jsx)(p.a,{autoFocus:!0,variant:"contained",onClick:this.saveData,color:"primary",children:"Fini!"}),Object($.jsx)(p.a,{autoFocus:!0,onClick:this.closeModal,color:"secondary",children:"Annuler"})]})]})]})}}]),a}(r.Component),X=J,Z=Object(O.b)(void 0,X)(K);function tt(t){!function(t){R.apply(this,arguments)}(t)}var et,at=Object(y.b)({name:"Diaper",initialState:{data:{}},reducers:{logPeeDiaper:function(t){var e=Math.round(Date.now()/1e3),a={time:e,type:"p"};t.data=Object(m.a)(Object(m.a)({},t.data),{},Object(v.a)({},e,a)),tt(a)},logStollDiaper:function(t){var e=Math.round(Date.now()/1e3),a={time:e,type:"s"};t.data=Object(m.a)(Object(m.a)({},t.data),{},Object(v.a)({},e,a)),tt(a)},loadData:function(t,e){t.data=e.payload},addDiaperData:function(t,e){t.data=Object(m.a)(Object(m.a)({},t.data),{},Object(v.a)({},e.payload.time,e.payload)),tt(e.payload)},removeDiaperData:function(t,e){delete t.data[e.payload],function(t){L.apply(this,arguments)}(e.payload)},importDiaperData:function(t,e){t.data=Object(m.a)(Object(m.a)({},t.data),e.payload)}}}),nt=at.actions,rt=at.reducer,ot=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).openModal=function(){n.setState({open:!0})},n.logPee=function(){n.props.logPeeDiaper(),n.closeModal()},n.logStool=function(){n.props.logStollDiaper(),n.closeModal()},n.closeModal=function(){n.setState({open:!1})},n.state={open:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(p.a,{variant:"outlined",color:"primary",onClick:this.openModal,children:"Couche"}),Object($.jsxs)(j.a,{open:this.state.open,onClose:this.closeModal,children:[Object($.jsx)(b.a,{children:"Couche"}),Object($.jsxs)(f.a,{children:[Object($.jsx)(p.a,{autoFocus:!0,onClick:this.logPee,variant:"contained",color:"primary",children:"Pipi"}),Object($.jsx)(p.a,{autoFocus:!0,onClick:this.logStool,variant:"contained",color:"primary",children:"Caca"}),Object($.jsx)(p.a,{autoFocus:!0,onClick:this.closeModal,variant:"contained",color:"secondary",children:"Annuler"})]})]})]})}}]),a}(r.Component),ct=nt,it=Object(O.b)(void 0,ct)(ot),st=a(107),lt=a(108),dt=a(148),ut=a(109);!function(t){t[t.IDLE=0]="IDLE",t[t.FEEDING=1]="FEEDING"}(et||(et={}));var pt={data:{},status:et.IDLE,lastStart:void 0};function jt(t){!function(t){N.apply(this,arguments)}(t)}var bt=Object(y.b)({name:"babyBottle",initialState:pt,reducers:{startBabyBottle:function(t){t.status=et.FEEDING,t.lastStart=Math.round(Date.now()/1e3)},stopBabyBottle:function(t,e){var a=t.status,n=t.lastStart;if(void 0!==n&&a!==et.IDLE&&void 0!==e.payload){var r=e.payload,o={start:n,duration:r.duration,quantity:r.quantity};t.data=Object(m.a)(Object(m.a)({},t.data),{},Object(v.a)({},n,o)),jt(o)}t.status=et.IDLE,t.lastStart=void 0},loadData:function(t,e){t.data=e.payload},addBabyBottleData:function(t,e){t.data=Object(m.a)(Object(m.a)({},t.data),{},Object(v.a)({},e.payload.start,e.payload)),jt(e.payload)},removeBabyBottleData:function(t,e){delete t.data[e.payload],function(t){P.apply(this,arguments)}(e.payload)},importBabyBottleData:function(t,e){t.data=Object(m.a)(Object(m.a)({},t.data),e.payload)}}}),ht=bt.actions,ft=bt.reducer,Ot="bottleQuantity";var vt=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).handleChange=function(t){var e=Number(t.target.value);NaN===e&&(e=n.state.quantity),n.setState({quantity:e}),function(t){localStorage.setItem(Ot,t.toString())}(e)},n.getDuration=function(){var t=n.getNowTime()-n.state.startTime,e=Math.floor(t/60),a=Math.floor(e/60),r=e-60*a,o=t-60*e,c=n.getFormattedTime(a),i=n.getFormattedTime(r),s=n.getFormattedTime(o);return"".concat(c,":").concat(i,":").concat(s)},n.openModal=function(){n.clearInterval();var t=setInterval((function(){n.forceUpdate()}),1e3);n.setState({open:!0,startTime:n.getNowTime(),refreshInterval:t}),n.props.startBabyBottle()},n.clearInterval=function(){void 0!==n.state.refreshInterval&&clearInterval(n.state.refreshInterval)},n.saveData=function(){n.clearInterval();var t=n.getNowTime();n.props.stopBabyBottle({duration:t-n.state.startTime,quantity:n.state.quantity}),n.setState({open:!1,refreshInterval:void 0})},n.closeModal=function(t,e){e&&"backdropClick"===e||(n.clearInterval(),n.setState({open:!1,refreshInterval:void 0}),n.props.stopBabyBottle(void 0))},n.getNowTime=function(){return Math.round(Date.now()/1e3)},n.getFormattedTime=function(t){return t<10?"0".concat(t):t},n.state={open:!1,startTime:0,refreshInterval:void 0,quantity:Number(localStorage.getItem(Ot)||"60")},n}return Object(l.a)(a,[{key:"render",value:function(){return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(p.a,{variant:"outlined",color:"primary",onClick:this.openModal,children:"Biberon"}),Object($.jsxs)(j.a,{open:this.state.open,onClose:this.closeModal,children:[Object($.jsx)(b.a,{children:"Biberon"}),Object($.jsxs)(h.a,{children:[Object($.jsx)("div",{children:this.getDuration()}),Object($.jsxs)(st.a,{children:[Object($.jsx)(lt.a,{value:this.state.quantity,onChange:this.handleChange,endAdornment:Object($.jsx)(dt.a,{position:"end",children:"mL"}),type:"number"}),Object($.jsx)(ut.a,{children:"Quantit\xe9"})]})]}),Object($.jsxs)(f.a,{children:[Object($.jsx)(p.a,{autoFocus:!0,variant:"contained",onClick:this.saveData,color:"primary",children:"Fini!"}),Object($.jsx)(p.a,{autoFocus:!0,onClick:this.closeModal,color:"secondary",children:"Annuler"})]})]})]})}}]),a}(r.Component),mt=ht,yt=Object(O.b)(void 0,mt)(vt),xt=a(62),gt=a(150),Dt=a(144),Bt=a(151),Ft=a(152),St=a(153),wt=a(154),kt=a(155),Tt=a(149),Et=a(112),Ct=a(111),It=a(159);var Mt="bl",Rt="br",Nt="bottle",At="pee",Lt="stool",Pt=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).quantityRef=Object(r.createRef)(),n.startTimeRef=Object(r.createRef)(),n.endTimeRef=Object(r.createRef)(),n.getDefaultValues=function(){var t=n.getFormattedTime(Math.floor(Date.now()/1e3)),e=t,a=t,r=Number(localStorage.getItem("bottleQuantity")||"60");if(n.props.mode)if(n.props.mode===Mt||n.props.mode===Rt){var o=n.props.data;e=n.getFormattedTime(o.start),a=n.getFormattedTime(o.start+o.duration)}else if(n.props.mode===Nt){var c=n.props.data;e=n.getFormattedTime(c.start),a=n.getFormattedTime(c.start+c.duration),r=c.quantity}else{var i=n.props.data;e=n.getFormattedTime(i.time)}return{startDefault:e,endDefault:a,quantityDefault:r}},n.handleChange=function(t){var e=t.target.value;n.setState({mode:e})},n.openModal=function(){n.setState({open:!0})},n.saveData=function(){var t,e=0,a=0;switch(t=new Date(n.startTimeRef.current.value).getTime()/1e3,n.endTimeRef.current&&(e=new Date(n.endTimeRef.current.value).getTime()/1e3),n.quantityRef.current&&(a=Number(n.quantityRef.current.value)),n.state.mode){case Nt:n.props.addBabyBottleData({start:t,duration:e-t,quantity:a});break;case Mt:n.props.addBreastFeedData({start:t,duration:e-t,type:"l"});break;case Rt:n.props.addBreastFeedData({start:t,duration:e-t,type:x});break;case At:n.props.addDiaperData({time:t,type:"p"});break;case Lt:n.props.addDiaperData({time:t,type:"s"})}n.setState({open:!1})},n.closeModal=function(){n.setState({open:!1})},n.state={mode:n.props.mode||Nt,open:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var t=this.state.mode===Rt||this.state.mode===Mt,e=this.state.mode===Nt,a=this.state.mode===At||this.state.mode===Lt,n=this.getDefaultValues(),r=n.startDefault,o=n.endDefault,c=n.quantityDefault;return Object($.jsxs)($.Fragment,{children:[this.props.iconButton?Object($.jsx)(Tt.a,{onClick:this.openModal,children:this.props.iconButton}):Object($.jsx)(p.a,{variant:"outlined",color:"primary",onClick:this.openModal,children:this.props.modalTitle}),Object($.jsxs)(j.a,{open:this.state.open,onClose:this.closeModal,children:[Object($.jsx)(b.a,{children:this.props.modalTitle}),Object($.jsxs)(h.a,{children:[Object($.jsxs)(st.a,{children:[Object($.jsx)(Et.a,{children:"Type"}),Object($.jsxs)(Ct.a,{value:this.props.mode||this.state.mode,onChange:this.handleChange,disabled:!!this.props.mode,children:[Object($.jsx)(It.a,{value:Rt,children:"Sein droit"}),Object($.jsx)(It.a,{value:Mt,children:"Sein gauche"}),Object($.jsx)(It.a,{value:Nt,children:"Biberon"}),Object($.jsx)(It.a,{value:At,children:"Couche (Pipi)"}),Object($.jsx)(It.a,{value:Lt,children:"Couche (Caca)"})]})]}),a&&Object($.jsxs)(st.a,{children:[Object($.jsx)(Et.a,{children:"Moment"}),Object($.jsx)(lt.a,{inputRef:this.startTimeRef,type:"datetime-local",defaultValue:r,disabled:!!this.props.mode,inputProps:{step:1}})]}),(t||e)&&Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(st.a,{children:[Object($.jsx)(Et.a,{children:"D\xe9but"}),Object($.jsx)(lt.a,{inputRef:this.startTimeRef,type:"datetime-local",defaultValue:r,disabled:!!this.props.mode,inputProps:{step:1}})]}),Object($.jsxs)(st.a,{children:[Object($.jsx)(Et.a,{children:"Fin"}),Object($.jsx)(lt.a,{inputRef:this.endTimeRef,type:"datetime-local",defaultValue:o,inputProps:{step:1}})]})]}),e&&Object($.jsxs)(st.a,{children:[Object($.jsx)(Et.a,{children:"Quantit\xe9"}),Object($.jsx)(lt.a,{inputRef:this.quantityRef,defaultValue:c,endAdornment:Object($.jsx)(dt.a,{position:"end",children:"mL"}),type:"number"})]})]}),Object($.jsxs)(f.a,{children:[Object($.jsx)(p.a,{autoFocus:!0,variant:"contained",onClick:this.saveData,color:"primary",children:this.props.modalTitle}),Object($.jsx)(p.a,{autoFocus:!0,onClick:this.closeModal,color:"secondary",children:"Annuler"})]})]})]})}},{key:"getFormattedTime",value:function(t){var e=new Date(1e3*t),a=(e.getMonth()+1).toString();a.length<2&&(a="0"+a);var n=e.getDate().toString();n.length<2&&(n="0"+n);var r=e.getHours().toString();r.length<2&&(r="0"+r);var o=e.getMinutes().toString();o.length<2&&(o="0"+o);var c=e.getSeconds().toString();return c.length<2&&(c="0"+c),"".concat(e.getFullYear(),"-").concat(a,"-").concat(n,"T").concat(r,":").concat(o,":").concat(c)}}]),a}(r.Component),qt=Object(m.a)(Object(m.a)(Object(m.a)({},ht),J),nt),_t=Object(O.b)(void 0,qt)(Pt),Gt=a(68),Wt=a.n(Gt),Yt=a(61),zt=a.n(Yt),Vt=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object($.jsx)(gt.a,{component:Dt.a,children:Object($.jsxs)(Bt.a,{size:"small",children:[Object($.jsx)(Ft.a,{children:Object($.jsxs)(St.a,{children:[Object($.jsx)(wt.a,{children:"Date"}),Object($.jsx)(wt.a,{children:"Type"}),Object($.jsx)(wt.a,{children:"Dur\xe9e"}),Object($.jsx)(wt.a,{children:"Qt\xe9"}),Object($.jsx)(wt.a,{})]})}),Object($.jsx)(kt.a,{children:this.renderRows()})]})})}},{key:"renderRows",value:function(){var t=this,e=[].concat(Object(xt.a)(Object.values(this.props.babyBottle)),Object(xt.a)(Object.values(this.props.breastFeed)),Object(xt.a)(Object.values(this.props.diaper)));return e.sort((function(t,e){var a=t.start||t.time;return(e.start||e.time)-a})),e.map((function(e){return e.time?t.renderDiaperRow(e):e.quantity?t.renderBabyBottleRow(e):t.renderBreastFeedRow(e)}))}},{key:"renderBreastFeedRow",value:function(t){var e=this,a="l"===t.type?Mt:Rt;return Object($.jsxs)(St.a,{children:[Object($.jsx)(wt.a,{children:g(1e3*t.start)}),Object($.jsxs)(wt.a,{children:["Sein ","l"===t.type?"(G)":"(D)"]}),Object($.jsx)(wt.a,{children:D(t.duration)}),Object($.jsx)(wt.a,{}),Object($.jsxs)(wt.a,{children:[Object($.jsx)(_t,{modalTitle:"Modifier",iconButton:Object($.jsx)(Wt.a,{fontSize:"small"}),mode:a,data:t}),Object($.jsx)(Tt.a,{color:"secondary",onClick:function(){e.props.removeBreastFeedData(t.start)},children:Object($.jsx)(zt.a,{fontSize:"small"})})]})]})}},{key:"renderDiaperRow",value:function(t){var e=this;return Object($.jsxs)(St.a,{children:[Object($.jsx)(wt.a,{children:g(1e3*t.time)}),Object($.jsxs)(wt.a,{children:["Couche (","p"===t.type?"P":"C",")"]}),Object($.jsx)(wt.a,{}),Object($.jsx)(wt.a,{}),Object($.jsx)(wt.a,{children:Object($.jsx)(Tt.a,{color:"secondary",onClick:function(){e.props.removeDiaperData(t.time)},children:Object($.jsx)(zt.a,{fontSize:"small"})})})]})}},{key:"renderBabyBottleRow",value:function(t){var e=this;return Object($.jsxs)(St.a,{children:[Object($.jsx)(wt.a,{children:g(1e3*t.start)}),Object($.jsx)(wt.a,{children:"Biberon"}),Object($.jsx)(wt.a,{children:D(t.duration)}),Object($.jsx)(wt.a,{children:t.quantity}),Object($.jsxs)(wt.a,{children:[Object($.jsx)(_t,{modalTitle:"Modifier",iconButton:Object($.jsx)(Wt.a,{fontSize:"small"}),mode:Nt,data:t}),Object($.jsx)(Tt.a,{color:"secondary",onClick:function(){e.props.removeBabyBottleData(t.start)},children:Object($.jsx)(zt.a,{fontSize:"small"})})]})]})}}]),a}(r.PureComponent),Qt=Object(m.a)(Object(m.a)(Object(m.a)({},ht),J),nt),Ut=Object(O.b)((function(t){return{babyBottle:t.babyBottle.data,breastFeed:t.breastFeed.data,diaper:t.diaper.data}}),Qt)(Vt),Jt=a(156),Ht=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).textFieldRef=Object(r.createRef)(),n.openModal=function(){n.setState({open:!0})},n.closeModal=function(t,e){n.setState({open:!1})},n.updateState=function(){var t,e=null===(t=n.textFieldRef.current)||void 0===t?void 0:t.value;if(e)try{var a=JSON.parse(e);a.babyBottle&&n.props.importBabyBottleData(a.babyBottle),a.diaper&&n.props.importDiaperData(a.diaper),a.breastFeed&&n.props.importBreastFeedData(a.breastFeed)}catch(r){}},n.state={open:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(p.a,{variant:"outlined",color:"primary",onClick:this.openModal,children:"Importer"}),Object($.jsxs)(j.a,{open:this.state.open,onClose:this.closeModal,children:[Object($.jsx)(b.a,{children:"Importer"}),Object($.jsx)(h.a,{children:Object($.jsx)(Jt.a,{inputRef:this.textFieldRef,multiline:!0})}),Object($.jsxs)(f.a,{children:[Object($.jsx)(p.a,{onClick:this.updateState,color:"secondary",children:"Importer"}),Object($.jsx)(p.a,{onClick:this.closeModal,color:"secondary",children:"Fermer"})]})]})]})}}]),a}(r.Component),$t=Object(m.a)(Object(m.a)(Object(m.a)({},ht),J),nt),Kt=Object(O.b)(void 0,$t)(Ht),Xt=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).copyToClipboard=function(){var t=document.getElementById("content-to-export");t.select(),t.setSelectionRange(0,99999999),document.execCommand("copy")},n.openModal=function(){n.setState({open:!0})},n.closeModal=function(t,e){n.setState({open:!1})},n.state={open:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(p.a,{variant:"outlined",color:"primary",onClick:this.openModal,children:"Exporter"}),Object($.jsxs)(j.a,{open:this.state.open,onClose:this.closeModal,children:[Object($.jsx)(b.a,{children:"Exporter"}),Object($.jsx)(h.a,{children:Object($.jsx)(Jt.a,{multiline:!0,id:"content-to-export",inputProps:{readOnly:!0},value:JSON.stringify(this.props.state)})}),Object($.jsxs)(f.a,{children:[Object($.jsx)(p.a,{onClick:this.copyToClipboard,color:"secondary",children:"Copier"}),Object($.jsx)(p.a,{autoFocus:!0,onClick:this.closeModal,color:"secondary",children:"Fermer"})]})]})]})}}]),a}(r.Component),Zt=J,te=Object(O.b)((function(t){return{state:{babyBottle:t.babyBottle.data,diaper:t.diaper.data,breastFeed:t.breastFeed.data}}}),Zt)(Xt);function ee(){return Object($.jsxs)("div",{className:"App",children:[Object($.jsx)("header",{className:"App-header"}),Object($.jsxs)("div",{className:"actions",children:[Object($.jsx)(Z,{type:"l"}),Object($.jsx)(Z,{type:"r"}),Object($.jsx)(yt,{}),Object($.jsx)(it,{}),Object($.jsx)(_t,{modalTitle:"Ajouter"}),Object($.jsx)(te,{}),Object($.jsx)(Kt,{})]}),Object($.jsx)("div",{children:Object($.jsx)(Ut,{})})]})}var ae=Object(y.a)({reducer:{babyBottle:ft,breastFeed:H,diaper:rt}}),ne=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function re(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var a=t.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}function oe(t,e){var a={};return t.forEach((function(t){a[t[e]]=t})),a}(function(){return I.apply(this,arguments)})().then((function(){Promise.all([G(),q(),Y()]).then((function(t){var e=Object(n.a)(t,3),a=e[0],r=e[1],o=e[2];console.log(a,r,o),ae.dispatch(ht.loadData(oe(a,"start"))),ae.dispatch(J.loadData(oe(r,"start"))),ae.dispatch(nt.loadData(oe(o,"time")))}))})),i.a.render(Object($.jsx)(o.a.StrictMode,{children:Object($.jsx)(O.a,{store:ae,children:Object($.jsx)(ee,{})})}),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/maternity",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/maternity","/service-worker.js");ne?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):re(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):re(e,t)}))}}()},96:function(t,e,a){},97:function(t,e,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.aa56a7fe.chunk.js.map