(this.webpackJsonpmaternity=this.webpackJsonpmaternity||[]).push([[0],{103:function(t,e,a){},104:function(t,e,a){},112:function(t,e,a){"use strict";a.r(e);var n=a(33),r=a(0),o=a.n(r),i=a(16),s=a.n(i),c=(a(103),a(104),a(7)),l=a(8),d=a(11),u=a(10),p=a(149),h=a(169),b=a(154),j=a(155),f=a(156),v=a(23),g=a(17),O=a(9),m=a(38),y="r",x="l";function D(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=new Date(t),n=""+(a.getMonth()+1),r=""+a.getDate(),o=a.getFullYear(),i=""+a.getHours(),s=""+a.getMinutes(),c=""+a.getSeconds();n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),i.length<2&&(i="0"+i),s.length<2&&(s="0"+s),c.length<2&&(c="0"+c);var l=[o,n,r].join("-");return l+(e?" ".concat(i,":").concat(s,":").concat(c):"")}function S(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=new Date(t),n=""+(a.getMonth()+1),r=""+a.getDate(),o=a.getFullYear()-2e3,i=""+a.getHours(),s=""+a.getMinutes(),c=""+a.getSeconds();n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),i.length<2&&(i="0"+i),s.length<2&&(s="0"+s),c.length<2&&(c="0"+c);var l=[r,n,o].join("/");return(e?"".concat(i,":").concat(s,":").concat(c," "):"")+l}function w(t){var e=t,a=Math.floor(e/60),n=Math.floor(a/60);return e-=60*a,a-=60*n,"".concat(C(n),":").concat(C(a),":").concat(C(e))}function C(t){var e=t.toString();return e.length<2&&(e="0"+e),e}var k=["Jan","Fev","Mar","Avr","Mai","Juin","Juil","Aout","Sept","Oct","Nov","Dec"];function B(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=new Date(1e3*t),n=(a.getMonth()+1).toString();n.length<2&&(n="0"+n);var r=a.getDate().toString();r.length<2&&(r="0"+r);var o=a.getHours().toString();o.length<2&&(o="0"+o);var i=a.getMinutes().toString();i.length<2&&(i="0"+i);var s=a.getSeconds().toString();if(s.length<2&&(s="0"+s),!e)return"".concat(a.getFullYear(),"-").concat(n,"-").concat(r);var c="".concat(a.getFullYear(),"-").concat(n,"-").concat(r,"T").concat(o,":").concat(i,":").concat(s);return c}var E,T,F=a(19),M=a(13),R=a.n(M),I=a(21),A=a(86),P={BREAST_FEED:"breastFeed",DIAPERS:"diapers",BABY_BOTTLE:"babyBottle"};function N(){return(N=Object(I.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(A.a)("maternity",2,{upgrade:function(){var t=Object(I.a)(R.a.mark((function t(e,a,n,r){var o,i,s,c;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==a||2!==n){t.next=15;break}return o=r.objectStore(P.DIAPERS),t.next=4,o.getAll();case 4:return i=t.sent,s=i.map((function(t){return t.start=t.time,delete t.time,t})),t.next=8,e.deleteObjectStore(P.DIAPERS);case 8:return t.next=10,e.createObjectStore(P.DIAPERS,{keyPath:"start"});case 10:return c=t.sent,t.next=13,H(s,c);case 13:t.next=18;break;case 15:e.createObjectStore(P.BREAST_FEED,{keyPath:"start"}),e.createObjectStore(P.DIAPERS,{keyPath:"start"}),e.createObjectStore(P.BABY_BOTTLE,{keyPath:"start"});case 18:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}()});case 2:return E=t.sent,t.abrupt("return",E);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(){return(L=Object(I.a)(R.a.mark((function t(e){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E.put(P.BREAST_FEED,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function W(){return(W=Object(I.a)(R.a.mark((function t(e){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E.put(P.DIAPERS,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(){return(Y=Object(I.a)(R.a.mark((function t(e){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E.put(P.BABY_BOTTLE,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(){return(q=Object(I.a)(R.a.mark((function t(e){var a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=E.transaction(P.BABY_BOTTLE,"readwrite"),t.next=3,Promise.all([].concat(Object(F.a)(Object.values(e).map((function(t){return a.store.put(t)}))),[a.done]));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(t,e){return _.apply(this,arguments)}function _(){return(_=Object(I.a)(R.a.mark((function t(e,a){var n;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=6;break}return t.next=3,Promise.all(Object(F.a)(Object.values(e).map((function(t){return a.put(t)}))));case 3:return t.abrupt("return",t.sent);case 6:return n=E.transaction(P.DIAPERS,"readwrite"),t.next=9,Promise.all([].concat(Object(F.a)(Object.values(e).map((function(t){return n.store.put(t)}))),[n.done]));case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(){return(z=Object(I.a)(R.a.mark((function t(e){var a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=E.transaction(P.BREAST_FEED,"readwrite"),t.next=3,Promise.all([].concat(Object(F.a)(Object.values(e).map((function(t){return a.store.put(t)}))),[a.done]));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(){return(K=Object(I.a)(R.a.mark((function t(e){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E.delete(P.BREAST_FEED,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function G(){return(G=Object(I.a)(R.a.mark((function t(e){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E.delete(P.DIAPERS,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(){return(J=Object(I.a)(R.a.mark((function t(e){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E.delete(P.BABY_BOTTLE,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(){return V.apply(this,arguments)}function V(){return(V=Object(I.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",E.getAll(P.BREAST_FEED));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Q(){return $.apply(this,arguments)}function $(){return($=Object(I.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",E.getAll(P.BABY_BOTTLE));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(){return Z.apply(this,arguments)}function Z(){return(Z=Object(I.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",E.getAll(P.DIAPERS));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(t){t[t.IDLE=0]="IDLE",t[t.FEEDING_R=1]="FEEDING_R",t[t.FEEDING_L=2]="FEEDING_L"}(T||(T={}));var tt={data:{},status:T.IDLE,lastStart:void 0};function et(t){!function(t){L.apply(this,arguments)}(t)}var at=Object(m.b)({name:"breastFeed",initialState:tt,reducers:{startRightBreastFeeding:function(t){t.status=T.FEEDING_R,t.lastStart=Math.round(Date.now()/1e3)},startLeftBreastFeeding:function(t){t.status=T.FEEDING_L,t.lastStart=Math.round(Date.now()/1e3)},stopBreastFeeding:function(t,e){var a=t.status,n=t.lastStart;if(void 0!==n&&a!==T.IDLE&&void 0!==e.payload){var r={start:n,duration:e.payload,type:a===T.FEEDING_R?y:x};t.data=Object(O.a)(Object(O.a)({},t.data),{},Object(g.a)({},n,r)),et(r)}t.status=T.IDLE,t.lastStart=void 0},loadData:function(t,e){t.data=e.payload},addBreastFeedData:function(t,e){t.data=Object(O.a)(Object(O.a)({},t.data),{},Object(g.a)({},e.payload.start,e.payload)),et(e.payload)},removeBreastFeedData:function(t,e){delete t.data[e.payload],function(t){K.apply(this,arguments)}(e.payload)},importBreastFeedData:function(t,e){t.data=Object(O.a)(Object(O.a)({},t.data),e.payload),function(t){z.apply(this,arguments)}(e.payload)}}}),nt=at.actions,rt=at.reducer,ot=a(2),it=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).getDuration=function(){var t=n.getNowTime()-n.state.startTime,e=Math.floor(t/60),a=Math.floor(e/60),r=e-60*a,o=t-60*e,i=n.getFormattedTime(a),s=n.getFormattedTime(r),c=n.getFormattedTime(o);return"".concat(i,":").concat(s,":").concat(c)},n.openModal=function(){n.clearInterval();var t=setInterval((function(){n.forceUpdate()}),1e3);n.setState({open:!0,startTime:n.getNowTime(),refreshInterval:t}),n.props.type===y?n.props.startRightBreastFeeding():n.props.startLeftBreastFeeding()},n.clearInterval=function(){void 0!==n.state.refreshInterval&&clearInterval(n.state.refreshInterval)},n.saveData=function(){n.clearInterval();var t=n.getNowTime();n.props.stopBreastFeeding(t-n.state.startTime),n.setState({open:!1,refreshInterval:void 0})},n.closeModal=function(t,e){e&&"backdropClick"===e||(n.clearInterval(),n.setState({open:!1,refreshInterval:void 0}),n.props.stopBreastFeeding(void 0))},n.getNowTime=function(){return Math.round(Date.now()/1e3)},n.getFormattedTime=function(t){return t<10?"0".concat(t):t},n.state={open:!1,startTime:0,refreshInterval:void 0},n}return Object(l.a)(a,[{key:"render",value:function(){var t=this.props.type===y?"droit":"gauche";return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsxs)(p.a,{variant:"contained",color:"primary",onClick:this.openModal,children:["Sein ",t]}),Object(ot.jsxs)(h.a,{open:this.state.open,onClose:this.closeModal,children:[Object(ot.jsxs)(b.a,{children:["Sein ",t]}),Object(ot.jsx)(j.a,{children:this.getDuration()}),Object(ot.jsxs)(f.a,{children:[Object(ot.jsx)(p.a,{autoFocus:!0,variant:"contained",onClick:this.saveData,color:"primary",children:"Fini!"}),Object(ot.jsx)(p.a,{autoFocus:!0,onClick:this.closeModal,color:"secondary",children:"Annuler"})]})]})]})}}]),a}(r.Component),st=nt,ct=Object(v.b)(void 0,st)(it),lt="p",dt="s";function ut(t){!function(t){W.apply(this,arguments)}(t)}var pt=Object(m.b)({name:"Diaper",initialState:{data:{}},reducers:{logPeeDiaper:function(t){var e=Math.round(Date.now()/1e3),a={start:e,type:lt};t.data=Object(O.a)(Object(O.a)({},t.data),{},Object(g.a)({},e,a)),ut(a)},logStollDiaper:function(t){var e=Math.round(Date.now()/1e3),a={start:e,type:dt};t.data=Object(O.a)(Object(O.a)({},t.data),{},Object(g.a)({},e,a)),ut(a)},loadData:function(t,e){t.data=e.payload},addDiaperData:function(t,e){t.data=Object(O.a)(Object(O.a)({},t.data),{},Object(g.a)({},e.payload.start,e.payload)),ut(e.payload)},removeDiaperData:function(t,e){delete t.data[e.payload],function(t){G.apply(this,arguments)}(e.payload)},importDiaperData:function(t,e){t.data=Object(O.a)(Object(O.a)({},t.data),function(t){var e={};return Object.values(t).forEach((function(t){t.time?(t.start=t.time,delete t.time,e[t.start]=t):e[t.start]=t})),e}(e.payload)),H(e.payload)}}});var ht,bt=pt.actions,jt=pt.reducer,ft=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).openModal=function(){n.setState({open:!0})},n.logPee=function(){n.props.logPeeDiaper(),n.closeModal()},n.logStool=function(){n.props.logStollDiaper(),n.closeModal()},n.closeModal=function(){n.setState({open:!1})},n.state={open:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(p.a,{variant:"contained",color:"primary",onClick:this.openModal,children:"Couche"}),Object(ot.jsxs)(h.a,{open:this.state.open,onClose:this.closeModal,children:[Object(ot.jsx)(b.a,{children:"Couche"}),Object(ot.jsxs)(f.a,{children:[Object(ot.jsx)(p.a,{autoFocus:!0,onClick:this.logPee,variant:"contained",color:"primary",children:"Pipi"}),Object(ot.jsx)(p.a,{autoFocus:!0,onClick:this.logStool,variant:"contained",color:"primary",children:"Caca"}),Object(ot.jsx)(p.a,{autoFocus:!0,onClick:this.closeModal,variant:"contained",color:"secondary",children:"Annuler"})]})]})]})}}]),a}(r.Component),vt=bt,gt=Object(v.b)(void 0,vt)(ft),Ot=a(114),mt=a(115),yt=a(157),xt=a(116);!function(t){t[t.IDLE=0]="IDLE",t[t.FEEDING=1]="FEEDING"}(ht||(ht={}));var Dt={data:{},status:ht.IDLE,lastStart:void 0};function St(t){!function(t){Y.apply(this,arguments)}(t)}var wt=Object(m.b)({name:"babyBottle",initialState:Dt,reducers:{startBabyBottle:function(t){t.status=ht.FEEDING,t.lastStart=Math.round(Date.now()/1e3)},stopBabyBottle:function(t,e){var a=t.status,n=t.lastStart;if(void 0!==n&&a!==ht.IDLE&&void 0!==e.payload){var r=e.payload,o={start:n,duration:r.duration,quantity:r.quantity};t.data=Object(O.a)(Object(O.a)({},t.data),{},Object(g.a)({},n,o)),St(o)}t.status=ht.IDLE,t.lastStart=void 0},loadData:function(t,e){t.data=e.payload},addBabyBottleData:function(t,e){t.data=Object(O.a)(Object(O.a)({},t.data),{},Object(g.a)({},e.payload.start,e.payload)),St(e.payload)},removeBabyBottleData:function(t,e){delete t.data[e.payload],function(t){J.apply(this,arguments)}(e.payload)},importBabyBottleData:function(t,e){t.data=Object(O.a)(Object(O.a)({},t.data),e.payload),function(t){q.apply(this,arguments)}(e.payload)}}}),Ct=wt.actions,kt=wt.reducer,Bt="bottleQuantity";var Et=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).handleChange=function(t){var e=Number(t.target.value);NaN===e&&(e=n.state.quantity),n.setState({quantity:e}),function(t){localStorage.setItem(Bt,t.toString())}(e)},n.getDuration=function(){var t=n.getNowTime()-n.state.startTime,e=Math.floor(t/60),a=Math.floor(e/60),r=e-60*a,o=t-60*e,i=n.getFormattedTime(a),s=n.getFormattedTime(r),c=n.getFormattedTime(o);return"".concat(i,":").concat(s,":").concat(c)},n.openModal=function(){n.clearInterval();var t=setInterval((function(){n.forceUpdate()}),1e3);n.setState({open:!0,startTime:n.getNowTime(),refreshInterval:t}),n.props.startBabyBottle()},n.clearInterval=function(){void 0!==n.state.refreshInterval&&clearInterval(n.state.refreshInterval)},n.saveData=function(){n.clearInterval();var t=n.getNowTime();n.props.stopBabyBottle({duration:t-n.state.startTime,quantity:n.state.quantity}),n.setState({open:!1,refreshInterval:void 0})},n.closeModal=function(t,e){e&&"backdropClick"===e||(n.clearInterval(),n.setState({open:!1,refreshInterval:void 0}),n.props.stopBabyBottle(void 0))},n.getNowTime=function(){return Math.round(Date.now()/1e3)},n.getFormattedTime=function(t){return t<10?"0".concat(t):t},n.state={open:!1,startTime:0,refreshInterval:void 0,quantity:Number(localStorage.getItem(Bt)||"60")},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(p.a,{variant:"contained",color:"primary",onClick:this.openModal,children:"Biberon"}),Object(ot.jsxs)(h.a,{open:this.state.open,onClose:this.closeModal,children:[Object(ot.jsx)(b.a,{children:"Biberon"}),Object(ot.jsxs)(j.a,{children:[Object(ot.jsx)("div",{children:this.getDuration()}),Object(ot.jsxs)(Ot.a,{children:[Object(ot.jsx)(mt.a,{value:this.state.quantity,onChange:this.handleChange,endAdornment:Object(ot.jsx)(yt.a,{position:"end",children:"mL"}),type:"number"}),Object(ot.jsx)(xt.a,{children:"Quantit\xe9"})]})]}),Object(ot.jsxs)(f.a,{children:[Object(ot.jsx)(p.a,{autoFocus:!0,variant:"contained",onClick:this.saveData,color:"primary",children:"Fini!"}),Object(ot.jsx)(p.a,{autoFocus:!0,onClick:this.closeModal,color:"secondary",children:"Annuler"})]})]})]})}}]),a}(r.Component),Tt=Ct,Ft=Object(v.b)(void 0,Tt)(Et),Mt=a(168),Rt=a(160),It=a(153),At=a(161),Pt=a(162),Nt=a(163),Lt=a(159),Wt=a(164),Yt=a(158),qt=a(119),Ht=a(118),_t=a(170);var zt="bl",Kt="br",Gt="bottle",Jt="pee",Ut="stool",Vt=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).quantityRef=Object(r.createRef)(),n.startTimeRef=Object(r.createRef)(),n.endTimeRef=Object(r.createRef)(),n.getDefaultValues=function(){var t=B(Math.floor(Date.now()/1e3)),e=t,a=t,r=Number(localStorage.getItem("bottleQuantity")||"60");if(n.props.mode)if(n.props.mode===zt||n.props.mode===Kt){var o=n.props.data;e=B(o.start),a=B(o.start+o.duration)}else if(n.props.mode===Gt){var i=n.props.data;e=B(i.start),a=B(i.start+i.duration),r=i.quantity}else{e=B(n.props.data.start)}return{startDefault:e,endDefault:a,quantityDefault:r}},n.handleChange=function(t){var e=t.target.value;n.setState({mode:e})},n.openModal=function(){n.setState({open:!0})},n.saveData=function(){var t,e=0,a=0;switch(t=new Date(n.startTimeRef.current.value).getTime()/1e3,n.endTimeRef.current&&(e=new Date(n.endTimeRef.current.value).getTime()/1e3),n.quantityRef.current&&(a=Number(n.quantityRef.current.value)),n.state.mode){case Gt:n.props.addBabyBottleData({start:t,duration:e-t,quantity:a});break;case zt:n.props.addBreastFeedData({start:t,duration:e-t,type:x});break;case Kt:n.props.addBreastFeedData({start:t,duration:e-t,type:y});break;case Jt:n.props.addDiaperData({start:t,type:lt});break;case Ut:n.props.addDiaperData({start:t,type:dt})}n.setState({open:!1})},n.closeModal=function(){n.setState({open:!1})},n.state={mode:n.props.mode||Gt,open:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var t=this.state.mode===Kt||this.state.mode===zt,e=this.state.mode===Gt,a=this.state.mode===Jt||this.state.mode===Ut,n=this.getDefaultValues(),r=n.startDefault,o=n.endDefault,i=n.quantityDefault;return Object(ot.jsxs)(ot.Fragment,{children:[this.props.iconButton?Object(ot.jsx)(Yt.a,{onClick:this.openModal,children:this.props.iconButton}):Object(ot.jsx)(p.a,{variant:"contained",color:"primary",onClick:this.openModal,children:this.props.modalTitle}),Object(ot.jsxs)(h.a,{open:this.state.open,onClose:this.closeModal,children:[Object(ot.jsx)(b.a,{children:this.props.modalTitle}),Object(ot.jsxs)(j.a,{children:[Object(ot.jsxs)(Ot.a,{children:[Object(ot.jsx)(qt.a,{children:"Type"}),Object(ot.jsxs)(Ht.a,{value:this.props.mode||this.state.mode,onChange:this.handleChange,disabled:!!this.props.mode,children:[Object(ot.jsx)(_t.a,{value:Kt,children:"Sein droit"}),Object(ot.jsx)(_t.a,{value:zt,children:"Sein gauche"}),Object(ot.jsx)(_t.a,{value:Gt,children:"Biberon"}),Object(ot.jsx)(_t.a,{value:Jt,children:"Couche (Pipi)"}),Object(ot.jsx)(_t.a,{value:Ut,children:"Couche (Caca)"})]})]}),a&&Object(ot.jsxs)(Ot.a,{children:[Object(ot.jsx)(qt.a,{children:"Moment"}),Object(ot.jsx)(mt.a,{inputRef:this.startTimeRef,type:"datetime-local",defaultValue:r,disabled:!!this.props.mode,inputProps:{step:1}})]}),(t||e)&&Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsxs)(Ot.a,{children:[Object(ot.jsx)(qt.a,{children:"D\xe9but"}),Object(ot.jsx)(mt.a,{inputRef:this.startTimeRef,type:"datetime-local",defaultValue:r,disabled:!!this.props.mode,inputProps:{step:1}})]}),Object(ot.jsxs)(Ot.a,{children:[Object(ot.jsx)(qt.a,{children:"Fin"}),Object(ot.jsx)(mt.a,{inputRef:this.endTimeRef,type:"datetime-local",defaultValue:o,inputProps:{step:1}})]})]}),e&&Object(ot.jsxs)(Ot.a,{children:[Object(ot.jsx)(qt.a,{children:"Quantit\xe9"}),Object(ot.jsx)(mt.a,{inputRef:this.quantityRef,defaultValue:i,endAdornment:Object(ot.jsx)(yt.a,{position:"end",children:"mL"}),type:"number"})]})]}),Object(ot.jsxs)(f.a,{children:[Object(ot.jsx)(p.a,{autoFocus:!0,variant:"contained",onClick:this.saveData,color:"primary",children:this.props.modalTitle}),Object(ot.jsx)(p.a,{autoFocus:!0,onClick:this.closeModal,color:"secondary",children:"Annuler"})]})]})]})}}]),a}(r.Component),Qt=Object(O.a)(Object(O.a)(Object(O.a)({},Ct),nt),bt),$t=Object(v.b)(void 0,Qt)(Vt),Xt=a(74),Zt=a.n(Xt),te=a(66),ee=a.n(te),ae=(Mt.a,"rowPerPage"),ne=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).handleChangePage=function(t,e){n.setState({page:e})},n.handleChangeRowsPerPage=function(t){var e,a=Number(null===(e=t.target)||void 0===e?void 0:e.value);n.setState({rowsPerPage:a}),localStorage.setItem(ae,a.toString())},n.state={page:0,rowsPerPage:localStorage.getItem(ae)&&Number(localStorage.getItem(ae))||10,data:[[]],size:0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this.getData(),e=t.data,a=t.size;e.length>0&&this.setState({data:e,page:Math.max(0,Math.min(this.state.page,e.length-1)),size:a})}},{key:"render",value:function(){return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(Mt.a,{SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}},rowsPerPageOptions:[5,10,20,50],component:"div",count:this.state.size,rowsPerPage:this.state.rowsPerPage,page:this.state.page,labelRowsPerPage:"Entr\xe9es par page",labelDisplayedRows:function(t){return"".concat(t.from,"-").concat(t.to," sur ").concat(t.count)},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),Object(ot.jsx)(Rt.a,{component:It.a,children:Object(ot.jsxs)(At.a,{size:"small",children:[Object(ot.jsx)(Pt.a,{children:Object(ot.jsxs)(Nt.a,{children:[Object(ot.jsx)(Lt.a,{children:"Date"}),Object(ot.jsx)(Lt.a,{children:"Type"}),Object(ot.jsx)(Lt.a,{children:"Dur\xe9e"}),Object(ot.jsx)(Lt.a,{children:"Qt\xe9"}),Object(ot.jsx)(Lt.a,{})]})}),Object(ot.jsx)(Wt.a,{children:this.renderRows()})]})})]})}},{key:"componentDidUpdate",value:function(t,e){if(t.babyBottle!==this.props.babyBottle||t.breastFeed!==this.props.breastFeed||t.diaper!==this.props.diaper||e.rowsPerPage!==this.state.rowsPerPage){var a=this.getData(),n=a.data,r=a.size;this.setState({data:n,page:Math.max(0,Math.min(this.state.page,n.length-1)),size:r})}}},{key:"getData",value:function(){var t=[].concat(Object(F.a)(Object.values(this.props.babyBottle)),Object(F.a)(Object.values(this.props.breastFeed)),Object(F.a)(Object.values(this.props.diaper)));t.sort((function(t,e){var a=t.start;return e.start-a}));for(var e=[],a=0;a*this.state.rowsPerPage<t.length;a++)e.push(t.slice(a*this.state.rowsPerPage,Math.min((a+1)*this.state.rowsPerPage,t.length)));return 0===e.length&&e.push([]),{data:e,size:t.length}}},{key:"renderRows",value:function(){var t=this;return this.state.data[this.state.page].map((function(e){return e.type===lt||e.type===dt?t.renderDiaperRow(e):e.quantity?t.renderBabyBottleRow(e):t.renderBreastFeedRow(e)}))}},{key:"renderBreastFeedRow",value:function(t){var e=this,a=t.type===x?zt:Kt;return Object(ot.jsxs)(Nt.a,{children:[Object(ot.jsx)(Lt.a,{children:D(1e3*t.start)},"start"),Object(ot.jsxs)(Lt.a,{children:["Sein ","l"===t.type?"(G)":"(D)"]},"label"),Object(ot.jsx)(Lt.a,{children:w(t.duration)},"duration"),Object(ot.jsx)(Lt.a,{},"quantity"),Object(ot.jsxs)(Lt.a,{children:[Object(ot.jsx)($t,{modalTitle:"Modifier",iconButton:Object(ot.jsx)(Zt.a,{fontSize:"small"}),mode:a,data:t}),Object(ot.jsx)(Yt.a,{color:"secondary",onClick:function(){e.props.removeBreastFeedData(t.start)},children:Object(ot.jsx)(ee.a,{fontSize:"small"})})]},"actions")]},"breastFeed"+t.start)}},{key:"renderDiaperRow",value:function(t){var e=this;return Object(ot.jsxs)(Nt.a,{children:[Object(ot.jsx)(Lt.a,{children:D(1e3*t.start)},"start"),Object(ot.jsxs)(Lt.a,{children:["Couche (","p"===t.type?"P":"C",")"]},"label"),Object(ot.jsx)(Lt.a,{},"duration"),Object(ot.jsx)(Lt.a,{},"quantity"),Object(ot.jsx)(Lt.a,{children:Object(ot.jsx)(Yt.a,{color:"secondary",onClick:function(){e.props.removeDiaperData(t.start)},children:Object(ot.jsx)(ee.a,{fontSize:"small"})})},"actions")]},"diaper"+t.start)}},{key:"renderBabyBottleRow",value:function(t){var e=this;return Object(ot.jsxs)(Nt.a,{children:[Object(ot.jsx)(Lt.a,{children:D(1e3*t.start)},"start"),Object(ot.jsx)(Lt.a,{children:"Biberon"},"label"),Object(ot.jsx)(Lt.a,{children:w(t.duration)},"duration"),Object(ot.jsx)(Lt.a,{children:t.quantity},"quantity"),Object(ot.jsxs)(Lt.a,{children:[Object(ot.jsx)($t,{modalTitle:"Modifier",iconButton:Object(ot.jsx)(Zt.a,{fontSize:"small"}),mode:Gt,data:t}),Object(ot.jsx)(Yt.a,{color:"secondary",onClick:function(){e.props.removeBabyBottleData(t.start)},children:Object(ot.jsx)(ee.a,{fontSize:"small"})})]},"actions")]},"babyBottle"+t.start)}}]),a}(r.PureComponent),re=Object(O.a)(Object(O.a)(Object(O.a)({},Ct),nt),bt),oe=Object(v.b)((function(t){return{babyBottle:t.babyBottle.data,breastFeed:t.breastFeed.data,diaper:t.diaper.data}}),re)(ne),ie=a(165),se=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).textFieldRef=Object(r.createRef)(),n.onTypeChange=function(t){n.setState({input:t.target.value})},n.openModal=function(){n.setState({open:!0})},n.closeModal=function(t,e){n.setState({open:!1})},n.updateState=function(){var t,e,a=null===(t=document.getElementById("file-import"))||void 0===t||null===(e=t.files)||void 0===e?void 0:e[0];if(a&&"file"===n.state.input){var r=new FileReader;r.readAsText(a,"UTF-8"),n.setState({isImporting:!0}),r.onload=function(t){var e=t.target.result;n.updateData(e),n.setState({open:!1,isImporting:!1})},r.onerror=function(t){n.setState({isImporting:!1})}}else if("input"===n.state.input){var o,i=null===(o=n.textFieldRef.current)||void 0===o?void 0:o.value;n.updateData(i),n.setState({open:!1})}},n.updateData=function(t){if(t)try{var e=JSON.parse(t);e.babyBottle&&n.props.importBabyBottleData(e.babyBottle),e.diaper&&n.props.importDiaperData(e.diaper),e.breastFeed&&n.props.importBreastFeedData(e.breastFeed)}catch(a){}},n.state={open:!1,isImporting:!1,input:"file"},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(p.a,{variant:"outlined",color:"primary",onClick:this.openModal,children:"Importer"}),Object(ot.jsxs)(h.a,{open:this.state.open,onClose:this.closeModal,children:[Object(ot.jsx)(b.a,{children:"Importer"}),Object(ot.jsxs)(j.a,{children:[Object(ot.jsxs)(Ht.a,{value:this.state.input,onChange:this.onTypeChange,children:[Object(ot.jsx)(_t.a,{value:"file",children:"Importer depuis un fichier json"}),Object(ot.jsx)(_t.a,{value:"input",children:"Importer depuis du texte"})]}),"file"===this.state.input?Object(ot.jsx)(Ot.a,{children:Object(ot.jsx)(mt.a,{disableUnderline:!0,id:"file-import",type:"file"})}):Object(ot.jsx)(ie.a,{inputRef:this.textFieldRef,placeholder:'Entrer les donn\xe9es au format json. Exemple: {"babyBottle":{"1626014654":{"start":1626014654,"duration":1,"quantity":60}},"diaper":{"1626014657":{"time":1626014657,"type":"p"},"1626014658":{"time":1626014658,"type":"s"}},"breastFeed":{"1626014649":{"start":1626014649,"duration":2,"type":"l"},"1626014651":{"start":1626014651,"duration":2,"type":"r"}}}',multiline:!0})]}),Object(ot.jsxs)(f.a,{children:[Object(ot.jsx)(p.a,{onClick:this.updateState,disabled:this.state.isImporting,color:"secondary",children:"Importer"}),Object(ot.jsx)(p.a,{onClick:this.closeModal,color:"secondary",children:"Fermer"})]})]})]})}}]),a}(r.Component),ce=Object(O.a)(Object(O.a)(Object(O.a)({},Ct),nt),bt),le=Object(v.b)(void 0,ce)(se);var de,ue=86400;!function(t){t[t.ALL=0]="ALL",t[t.DAY=1]="DAY",t[t.WEEK=2]="WEEK",t[t.MONTH=3]="MONTH",t[t.YEAR=4]="YEAR"}(de||(de={}));var pe,he=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).download=function(){!function(t,e){var a="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),n=document.getElementById("downloadAnchorElem");n.setAttribute("href",a),n.setAttribute("download","".concat(e,".json")),n.click()}(n.props.state,"maternity-data-".concat(Date.now()))},n.onDurationChange=function(t){n.setState({duration:t.target.value})},n.getExportContent=function(){var t=Date.now()/1e3,e=0;switch(n.state.duration){case de.YEAR:e=t-365*ue;break;case de.MONTH:e=t-31*ue;break;case de.WEEK:e=t-7*ue;break;case de.DAY:e=t-ue;break;default:return JSON.stringify(n.props.state)}return JSON.stringify({babyBottle:n.filter(n.props.state.babyBottle,e,t),diaper:n.filter(n.props.state.diaper,e,t),breastFeed:n.filter(n.props.state.breastFeed,e,t)})},n.copyToClipboard=function(){var t=document.getElementById("content-to-export");t.select(),t.setSelectionRange(0,99999999),document.execCommand("copy")},n.openModal=function(){n.setState({open:!0})},n.closeModal=function(t,e){n.setState({open:!1})},n.state={open:!1,duration:de.WEEK},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(p.a,{variant:"outlined",color:"primary",onClick:this.openModal,children:"Exporter"}),Object(ot.jsxs)(h.a,{open:this.state.open,onClose:this.closeModal,children:[Object(ot.jsx)(b.a,{children:"Exporter"}),Object(ot.jsxs)(j.a,{children:[Object(ot.jsxs)(Ht.a,{value:this.state.duration,onChange:this.onDurationChange,children:[Object(ot.jsx)(_t.a,{value:de.ALL,children:"Tout"}),Object(ot.jsx)(_t.a,{value:de.YEAR,children:"Derni\xe8re ann\xe9e"}),Object(ot.jsx)(_t.a,{value:de.MONTH,children:"Dernier mois"}),Object(ot.jsx)(_t.a,{value:de.WEEK,children:"Derni\xe8re semaine"}),Object(ot.jsx)(_t.a,{value:de.DAY,children:"Dernier jour"})]}),Object(ot.jsx)(ie.a,{multiline:!0,rowsMax:10,id:"content-to-export",inputProps:{readOnly:!0},value:this.getExportContent()})]}),Object(ot.jsxs)(f.a,{children:[Object(ot.jsx)(p.a,{onClick:this.download,color:"secondary",children:"T\xe9l\xe9charger"}),Object(ot.jsx)(p.a,{onClick:this.copyToClipboard,color:"secondary",children:"Copier"}),Object(ot.jsx)(p.a,{autoFocus:!0,onClick:this.closeModal,color:"secondary",children:"Fermer"})]})]})]})}},{key:"filter",value:function(t,e,a){return Object.values(t).filter((function(t){return t.start>e&&t.start<a}))}}]),a}(r.Component),be=nt,je=Object(v.b)((function(t){return{state:{babyBottle:t.babyBottle.data,diaper:t.diaper.data,breastFeed:t.breastFeed.data}}}),be)(he),fe=a(46),ve="babyBottle";fe.a.register.apply(fe.a,Object(F.a)(fe.b)),function(t){t[t.MONTHS=0]="MONTHS",t[t.WEEKS=1]="WEEKS",t[t.WEEK=2]="WEEK"}(pe||(pe={}));var ge,Oe=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).feedContainerRef=Object(r.createRef)(),n.diaperContainerRef=Object(r.createRef)(),n.activeContainerRef=Object(r.createRef)(),n.feedChart=void 0,n.diaperChart=void 0,n.activeChart=void 0,n.getBabyBottleData=function(){return n.extractData([ve],(function(t){return t.quantity}),1)},n.getBreastFeedData=function(){return n.extractData([x,y],(function(t){return Math.round(t.duration/60)}))},n.getRightBreastFeedData=function(){return n.extractData([y],(function(t){return Math.round(t.duration/60)}))},n.getLeftBreastFeedData=function(){return n.extractData([x],(function(t){return Math.round(t.duration/60)}))},n.getDiapersPeeData=function(){return n.extractData([lt],(function(t){return 1}),1)},n.getDiapersStoolData=function(){return n.extractData([dt],(function(t){return 1}),1)},n.getActiveTime=function(){var t=n.getPeriodThreshold(),e=t.start,a=t.end;a=Math.min(a,Math.round(Date.now()/1e3));var r=Math.round((a-e)/24/60/60),o=n.props.data.filter((function(t){return t.start>=e&&t.start<a})),i={};o.forEach((function(t){var e=t.start,a=t.start+(t.duration||0),n=new Date(1e3*e),r=new Date(1e3*a),o=S(1e3*e,!1),s=S(1e3*a,!1),c=n.getHours(),l=r.getHours(),d=function(t,e){var a=i[t];a||(a=new Array(24).fill(!1),i[t]=a),a[e]=!0};if(l<c){for(var u=c;u<24;u++)d(o,u);for(var p=0;p<=l;p++)d(s,p)}else for(var h=c;h<=l;h++)d(o,h)}));for(var s=[],c=0;c<24;c++)s.push(c+"h");return{labels:s,data:n.getActivePercentage(r,i)}},n.getData=function(t,e,a,r,o){var i=Math.max(1,Math.round((Math.min(e,Math.round(Date.now()/1e3))-t)/86400)),s=Math.pow(10,o);return Math.round(n.props.data.reduce((function(n,o){return n+(a.includes(o.type)&&t<=o.start&&e>o.start?r(o):0)}),0)/i*s)/s},n.extractData=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[],o=[],i=n.state.startDate;switch(n.state.mode){case pe.WEEKS:for(var s=0;s<6;s++){var c=n.getWeeksThreshold(i),l=c.start,d=c.end,u=n.getData(l,d,t,e,a);i=d,r.push(["".concat(S(1e3*l,!1))," \xe0 ".concat(S(1e3*d,!1))]),o.push(u)}break;case pe.WEEK:for(var p=0;p<8;p++){var h=n.getDayThreshold(i),b=h.start,j=h.end,f=n.getData(b,j,t,e,a);i=j,r.push(S(1e3*b,!1)),o.push(f)}break;default:for(var v=0;v<13;v++){var g=n.getMonthThreshold(i),O=g.start,m=g.end,y=n.getData(O,m,t,e,a);i=m;var x=new Date(1e3*O);r.push("".concat(k[x.getMonth()]," ").concat(x.getFullYear())),o.push(y)}}return{data:o,labels:r}},n.onModeChange=function(t){var e=t.target.value,a=n.getDefaultDate(e);n.setState({mode:e,startDate:a})},n.onStartDateChange=function(t){var e=new Date(t.target.value);n.setState({startDate:e.getTime()/1e3})},n.nextDate=function(){n.updateDate("+")},n.previousDate=function(){n.updateDate("-")},n.getDefaultDate=function(t,e,a){var n="+"===a?-1:1,r=e||Math.floor(Date.now()/1e3);switch(t){case pe.MONTHS:return r-365*n*24*60*60;case pe.WEEKS:return r-5*n*7*24*60*60;default:return r-7*n*24*60*60}},n.state={mode:pe.WEEK,startDate:Math.floor((Date.now()-5184e5)/1e3),currentData:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this.getBabyBottleData(),e=t.labels,a=t.data,n=this.getBreastFeedData().data,r=this.getRightBreastFeedData().data,o=this.getLeftBreastFeedData().data;this.feedChart=new fe.a(this.feedContainerRef.current,{type:"bar",data:{labels:e,datasets:[{yAxisID:"babyBottleAxis",label:"Biberon (mL)",data:a,backgroundColor:"lightblue"},{yAxisID:"breastFeedAxis",label:"Sein (min)",data:n,backgroundColor:"green"},{yAxisID:"breastFeedAxis",label:"Sein G (min)",data:o,backgroundColor:"lightgreen"},{yAxisID:"breastFeedAxis",label:"Sein D (min)",data:r,backgroundColor:"darkgreen"}]},options:{scales:{breastFeedAxis:{position:"right"}},aspectRatio:1.5,plugins:{legend:{maxHeight:50}}}});var i=this.getDiapersPeeData().data,s=this.getDiapersStoolData().data;this.diaperChart=new fe.a(this.diaperContainerRef.current,{type:"bar",data:{labels:e,datasets:[{label:"Pipi",data:i,backgroundColor:"lightblue"},{label:"Caca",data:s,backgroundColor:"orange"}]},options:{aspectRatio:1.5}});var c=this.getActiveTime(),l=c.data,d=c.labels;this.activeChart=new fe.a(this.activeContainerRef.current,{type:"radar",data:{labels:d,datasets:[{label:"Heures actives (% sur la p\xe9riode)",data:l,fill:!0,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgb(255, 99, 132)",pointBackgroundColor:"rgb(255, 99, 132)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(255, 99, 132)"}]}})}},{key:"updateCharts",value:function(){var t=this.getBabyBottleData(),e=t.labels,a=t.data,n=this.getBreastFeedData().data,r=this.getRightBreastFeedData().data,o=this.getLeftBreastFeedData().data;this.feedChart.data={labels:e,datasets:[{yAxisID:"babyBottleAxis",label:"Biberon (mL)",data:a,backgroundColor:"lightblue"},{yAxisID:"breastFeedAxis",label:"Sein (min)",data:n,backgroundColor:"green"},{yAxisID:"breastFeedAxis",label:"Sein G (min)",data:o,backgroundColor:"lightgreen"},{yAxisID:"breastFeedAxis",label:"Sein D (min)",data:r,backgroundColor:"darkgreen"}]};var i=this.getDiapersPeeData().data,s=this.getDiapersStoolData().data;this.diaperChart.data={labels:e,datasets:[{label:"Pipi",data:i,backgroundColor:"lightblue"},{label:"Caca",data:s,backgroundColor:"orange"}]};var c=this.getActiveTime(),l=c.data,d=c.labels;this.activeChart.data={labels:d,datasets:[{label:"Heures actives (% sur la p\xe9riode)",data:l,fill:!0,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgb(255, 99, 132)",pointBackgroundColor:"rgb(255, 99, 132)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(255, 99, 132)"}]},this.feedChart.update(),this.diaperChart.update(),this.activeChart.update()}},{key:"getActivePercentage",value:function(t,e){var a=new Array(24).fill(0);return Object.values(e).forEach((function(t){for(var e=0;e<24;e++)a[e]+=t[e]})),a.map((function(e){return Math.round(e/t*100)}))}},{key:"getDayThreshold",value:function(t){var e=new Date(1e3*t),a=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()/1e3;return{start:a,end:a+86400}}},{key:"getWeeksThreshold",value:function(t){var e=new Date(1e3*t),a=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()/1e3;return{start:a,end:a+604800}}},{key:"getPeriodThreshold",value:function(){var t=this.state.startDate,e=this.state.startDate;switch(this.state.mode){case pe.WEEKS:for(var a=0;a<6;a++)e=this.getWeeksThreshold(e).end;break;case pe.WEEK:for(var n=0;n<8;n++)e=this.getDayThreshold(e).end;break;default:for(var r=0;r<13;r++)e=this.getMonthThreshold(e).end}return{start:t,end:e}}},{key:"getMonthThreshold",value:function(t){var e=new Date(1e3*t),a=e.getFullYear(),n=e.getMonth(),r=(n+1)%12,o=r?a:a+1;return{start:new Date(a,n).getTime()/1e3,end:new Date(o,r).getTime()/1e3}}},{key:"render",value:function(){return this.feedContainerRef.current&&this.diaperContainerRef.current&&this.updateCharts(),Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsxs)("div",{children:[Object(ot.jsx)(Ot.a,{children:Object(ot.jsxs)(Ht.a,{value:this.state.mode,onChange:this.onModeChange,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null},children:[Object(ot.jsx)(_t.a,{value:pe.MONTHS,children:"Mois"}),Object(ot.jsx)(_t.a,{value:pe.WEEKS,children:"Semaines"}),Object(ot.jsx)(_t.a,{value:pe.WEEK,children:"Jours"})]})}),Object(ot.jsx)(p.a,{style:{padding:"0",minWidth:"20px"},size:"small",onClick:this.previousDate,variant:"contained",color:"primary",children:"<"}),Object(ot.jsx)(mt.a,{style:{margin:"0 10px"},type:"date",value:B(this.state.startDate,!1),onChange:this.onStartDateChange}),Object(ot.jsx)(p.a,{style:{padding:"0",minWidth:"20px"},size:"small",onClick:this.nextDate,variant:"contained",color:"primary",children:">"})]}),Object(ot.jsxs)("div",{children:[Object(ot.jsx)("canvas",{ref:this.feedContainerRef}),Object(ot.jsx)("canvas",{ref:this.diaperContainerRef}),Object(ot.jsx)("canvas",{ref:this.activeContainerRef})]})]})}},{key:"updateDate",value:function(t){var e=this.getDefaultDate(this.state.mode,this.state.startDate,t);this.setState({startDate:e})}}]),a}(r.PureComponent),me=Object(v.b)((function(t){var e=Object.values(t.babyBottle.data).map((function(t){return{type:ve,start:t.start,duration:t.duration,quantity:t.quantity}})),a=Object.values(t.breastFeed.data).map((function(t){return{type:t.type,start:t.start,duration:t.duration}})),n=Object.values(t.diaper.data).map((function(t){return{type:t.type,start:t.start}})),r=[].concat(Object(F.a)(e),Object(F.a)(a),Object(F.a)(n));return r.sort((function(t,e){return e.start-t.start})),{data:r}}))(Oe),ye=a(88),xe=a(166),De=a(171);function Se(){var t=Object(r.useState)(ge.HISTORY),e=Object(n.a)(t,2),a=e[0],o=e[1];return Object(ot.jsxs)("div",{className:"App",children:[Object(ot.jsx)("header",{className:"App-header"}),Object(ot.jsxs)("div",{className:"action-wrapper",children:[Object(ot.jsxs)("div",{className:"actions",children:[Object(ot.jsx)(ct,{type:"l"}),Object(ot.jsx)(ct,{type:"r"}),Object(ot.jsx)(Ft,{}),Object(ot.jsx)(gt,{}),Object(ot.jsx)($t,{modalTitle:"Ajouter"})]}),Object(ot.jsxs)("div",{className:"actions",children:[Object(ot.jsx)(je,{}),Object(ot.jsx)(le,{})]}),Object(ot.jsx)(ye.a,{component:"div",align:"center",children:Object(ot.jsxs)(xe.a,{component:"label",container:!0,alignItems:"center",justify:"center",spacing:1,children:[Object(ot.jsx)(xe.a,{item:!0,children:"Statistiques"}),Object(ot.jsx)(xe.a,{item:!0,children:Object(ot.jsx)(De.a,{checked:ge.HISTORY===a,onChange:function(t,e){o(e?ge.HISTORY:ge.STATS)},name:"checkedC"})}),Object(ot.jsx)(xe.a,{item:!0,children:"Historique"})]})})]}),a===ge.STATS&&Object(ot.jsx)("div",{children:Object(ot.jsx)(me,{})}),a===ge.HISTORY&&Object(ot.jsx)("div",{children:Object(ot.jsx)(oe,{})}),Object(ot.jsx)("a",{id:"downloadAnchorElem",style:{display:"none"}})]})}!function(t){t[t.HISTORY=0]="HISTORY",t[t.STATS=1]="STATS"}(ge||(ge={}));var we=Object(m.a)({reducer:{babyBottle:kt,breastFeed:rt,diaper:jt}}),Ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ke(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var a=t.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}window.indexedDB;function Be(t,e){var a={};return t.forEach((function(t){a[t[e]]=t})),a}setTimeout((function(){(function(){return N.apply(this,arguments)})().then((function(){Promise.all([Q(),U(),X()]).then((function(t){var e=Object(n.a)(t,3),a=e[0],r=e[1],o=e[2];console.log(a,r,o),we.dispatch(Ct.loadData(Be(a,"start"))),we.dispatch(nt.loadData(Be(r,"start"))),we.dispatch(bt.loadData(Be(o,"start")))}))})),s.a.render(Object(ot.jsx)(o.a.StrictMode,{children:Object(ot.jsx)(v.a,{store:we,children:Object(ot.jsx)(Se,{})})}),document.getElementById("root"))}),200),function(t){if("serviceWorker"in navigator){if(new URL("/maternity",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/maternity","/service-worker.js");Ce?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):ke(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ke(e,t)}))}}()}},[[112,1,2]]]);
//# sourceMappingURL=main.f48c1dcc.chunk.js.map